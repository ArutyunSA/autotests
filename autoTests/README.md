# E-RP, WEBMIS

> Автотесты для проектов МИС (ТАП и Стационар), ЕРП, ЕРПАдмин и Комм. Аптека 


## Настройка окружения для работы с проектом
1. Проверка версии python, ожидается версия: Python 3.11.3 `python --version`
2. Подготовка и активация виртуального окружения: `python -m venv venv`, .\venv\Scripts\activate
3. Установка необходимых модулей из requirements.txt: `pip install -r requirements.txt`
4. Запуск автотестов выполняется командами: 
   1. Запуск всех автотестов в файле: 
      - `D:\Автотесты\autoTests\venv\Scripts\python.exe -m pytest <путь_к_файлу>`
      - Пример: `C:\project\autoTests\venv\Scripts\python.exe -m pytest C:\project\autoTests\autoTests\test_TAP.py`
   2. Запуск отдельного теста:
      - `D:\Автотесты\autoTests\venv\Scripts\python.exe -m pytest <путь_к_файлу>::<имя_теста>`
      - Пример: `D:\Автотесты\autoTests\venv\Scripts\python.exe -m pytest D:\Автотесты\autoTests\test_TAP.py::test_create_purpose`

## Структура проекта
- test_TAP.py - Автотесты для страницы ТАП
- function.py - функции для взаимодействия со страницей ТАП
- path.py     - Локаторы страницы ТАП
- coloram.py  - Стили отображения шагов и результатов теста



# Взаимодействие
- Использование методов для взаимодействия со страницей (Файл: function.py)

    | функция          | Описание                                                    |
    |------------------|-------------------------------------------------------------|
    | click_element()  | Клик по элементу                                            
    | clear_element()  | Очистка поля                                                
    | send_keys()      | Ввода текста в поле                                         
    | text()           | Просмотр текста который хранит элемент                      
    | atribut()        | Просмотра значения, которое хранит элемент                  
    | tab()            | Снятие фокуса с поля ввода                                  
    | enabled()        | Проверка доступности элемента                               
    | disabled()       | Проверка не доступности элемента                            
    | element_absent() | Проверка отсутствия элемента на странице                    
    | backColor()      | Проверка подсветки поля (Например цвет обязательности поля) 
    | textColor()      | Проверка подсветки текста                                   
    | contrlA()        | Выделение текста в поле                                     
    | home()           | Перемещение курсора в начало строки                         
    | searchDay()      | Поиск и выбор дня в календаре                               

   
- Типы  элементов:

    | Тип | Описание                                                                  |
    |-----|---------------------------------------------------------------------------|
    | DT  | current date / Текущая дата                                               
    | WD  | word/text / слово/текст                                                   
    | CL  | column    / Колонка / элемент гриды                                       
    | FD  | field     / Поле ввода                                                    
    | LT  | list      / Список                                                        
    | CH  | checkbox  / Чекбокс и радиокнопка                                         
    | BT  | button    / кнопка                                                        
    | CR  | cross/plus(from tree)              / крестик/плюс (из дерева)             
    | FM  | form(from check window/form input) / форма (из окна проверки/ввода формы) 
    | ST  | state / статус                                                            
    | OB  | obligatory / Признак обязательность                                       
    | FM  | form / Форма                                                              


- Стили результатов в консоли:

    | Функция      | Описание                     |
    |--------------|------------------------------|
    | case_name()  | Название тест кейса          
    | step()       | Номер и название шага        
    | true_step()  | Сообщение об успешном шаге   
    | false_step() | Сообщение о неуспешном шаге  

# HELP for XPATH:
    #   ancestor:: — возвращает множество предков.
    #   ancestor-or-self:: — возвращает множество предков и текущий элемент.
    #   attribute:: — возвращает множество атрибутов текущего элемента.
    #   child:: — возвращает множество потомков на один уровень ниже.
    #   descendant:: — возвращает полное множество потомков.
    #   descendant-or-self:: — возвращает полное множество потомков и текущий элемент.
    #   following:: — возвращает необработанное множество, ниже текущего элемента.
    #   following-sibling:: — возвращает множество элементов на том же уровне, следующих за текущим.
    #   namespace:: — возвращает множество имеющее пространство имён (то есть присутствует атрибут xmlns).
    #   parent:: — возвращает предка на один уровень назад.
    #   preceding:: — возвращает множество обработанных элементов исключая множество предков.
    #   preceding-sibling:: — возвращает множество элементов на том же уровне, предшествующих текущему.
    #   self:: — возвращает текущий элемент.#
    #   Для наиболее часто используемых осей существуют сокращения:
    #   attribute:: — можно заменить на «@»
    #   child:: — часто просто опускают
    #   descendant:: — можно заменить на «.//»
    #   parent:: — можно заменить на «..»
    #   self:: — можно заменить на «.»
    #

#   XPath
    #   // - Хороший XPath всегда должен начинаться с двух //
    #   text() - Поиск по тексту
    #   @class - Поиск по классу
    #   @attribute - Поиск по аттрибуту 
    #   contains - что-то содержит
    #   starts-with - начинается с ...
    #   /preceding-sibling:: - поиск сестринского элемента, который находится выше
    #   /following-sibling:: - поиск сестринского который находится снизу
    #   /parent:: - поиск родительского элемента
    #   /ancestor:: - поиск дальнего предка (дедушки, прадедушки)
    #   /child:: - поиск дочернего элемента
    #   / - тоже самое что и /child::
    #   /descendant:: - поиск дальнего потомка (внучка, правнука)
    #   // - тоже самое что и /descendant::


